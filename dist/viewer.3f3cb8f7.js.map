{"version":3,"sources":["live/viewer/viewer.js"],"names":["displayResults","input","document","querySelector","value","url","URL","params","action","search","format","origin","Object","keys","forEach","key","searchParams","append","fetch","then","response","json","results","data","parent","child","createElement","item","anchor","paragraph","firstChild","remove","i","length","appendChild","href","textContent","target","insertBefore","addEventListener","event","which"],"mappings":";AAAA,SAASA,IACDC,IAAAA,EAAQC,SAASC,cAAc,UAAUC,MAEzCC,EAAM,IAAIC,IAAI,sCACdC,EAAS,CACTC,OAAQ,aACRC,OAAQR,EACRS,OAAQ,OACRC,OAAQ,KAEZC,OAAOC,KAAKN,GAAQO,QAAQ,SAAAC,GAAOV,OAAAA,EAAIW,aAAaC,OAAOF,EAAKR,EAAOQ,MAEvEG,MAAMb,GACLc,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BF,KAAKG,GAIV,SAASA,EAAQC,GACTC,IAAAA,EAAStB,SAASC,cAAc,WAChCsB,EAAQvB,SAASwB,cAAc,MAC/BC,EAAOzB,SAASwB,cAAc,MAC9BE,EAAS1B,SAASwB,cAAc,KAChCG,EAAY3B,SAASwB,cAAc,KACd,OAAtBF,EAAOM,YACNN,EAAOM,WAAWC,SAElB,IAAA,IAAIC,EAAI,EAAGA,EAAIT,EAAK,GAAGU,OAAQD,IAAK,CAChCL,EAAOzB,SAASwB,cAAc,MAC9BE,EAAS1B,SAASwB,cAAc,KAChCG,EAAY3B,SAASwB,cAAc,KACvCD,EAAMS,YAAYP,GAClBA,EAAKO,YAAYN,GACjBA,EAAOO,KAAOZ,EAAK,GAAGS,GACtBJ,EAAOQ,YAAcb,EAAK,GAAGS,GAC7BJ,EAAOS,OAAS,SAChBR,EAAUO,YAAcb,EAAK,GAAGS,GAChCL,EAAKO,YAAYL,GACjBJ,EAAMS,YAAYP,GAClBH,EAAOc,aAAab,EAAOD,EAAOM,aAI1C5B,SAASC,cAAc,WAAWoC,iBAAiB,QAASvC,GAE5DE,SAASC,cAAc,UAAUoC,iBAAiB,WAAY,SAASC,GAChD,KAAhBA,EAAMC,OACLzC","file":"viewer.3f3cb8f7.js","sourceRoot":"..\\src","sourcesContent":["function displayResults(){\r\n    var input = document.querySelector(\"#input\").value;\r\n  \r\n    var url = new URL(\"https://en.wikipedia.org/w/api.php\");\r\n    var params = {\r\n        action: \"opensearch\",\r\n        search: input,\r\n        format: \"json\",\r\n        origin: \"*\"\r\n    }\r\n    Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\r\n\r\n    fetch(url)\r\n    .then(response => response.json())\r\n    .then(results);\r\n\r\n  };\r\n  \r\nfunction results(data){\r\n    var parent = document.querySelector(\"#output\");\r\n    var child = document.createElement(\"ul\");\r\n    var item = document.createElement(\"li\");\r\n    var anchor = document.createElement(\"a\");\r\n    var paragraph = document.createElement(\"p\");\r\n    if(parent.firstChild !== null){\r\n        parent.firstChild.remove();\r\n    }\r\n    for(var i = 0; i < data[1].length; i++) {\r\n        var item = document.createElement(\"li\");\r\n        var anchor = document.createElement(\"a\");\r\n        var paragraph = document.createElement(\"p\");\r\n        child.appendChild(item);\r\n        item.appendChild(anchor);\r\n        anchor.href = data[3][i];\r\n        anchor.textContent = data[1][i];\r\n        anchor.target = \"_blank\";\r\n        paragraph.textContent = data[2][i];\r\n        item.appendChild(paragraph);\r\n        child.appendChild(item);\r\n        parent.insertBefore(child, parent.firstChild)\r\n    }  \r\n}\r\n\r\ndocument.querySelector(\"#search\").addEventListener(\"click\", displayResults);\r\n\r\ndocument.querySelector(\"#input\").addEventListener(\"keypress\", function(event) {\r\n    if(event.which === 13)     \r\n        displayResults();      \r\n});\r\n\r\n\r\n  \r\n  \r\n  "]}