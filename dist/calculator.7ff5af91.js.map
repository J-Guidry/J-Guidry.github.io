{"version":3,"sources":["live/calculator/index.js"],"names":["dataAndOperations","setNumber","number","dataNumber","setNextNumber","nextNumber","dataNextNumber","setOperator","operator","performOperation","result","clear","console","log","clearAll","UI","DOMstrings","numbers","operators","display","equals","state","document","querySelector","getSelection","event","selection","target","textContent","displayNumber","displayedNumber","children","displayOperator","calculate","controller","setEventListeners","DOM","querySelectorAll","forEach","addEventListener","selectNumber","selectOperator","keyCodeList","key","parseInt","parsedNumber","chainOperations"],"mappings":"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","file":"calculator.7ff5af91.js","sourceRoot":"..\\src","sourcesContent":["const dataAndOperations = {\r\n    setNumber: function(number){\r\n        this.dataNumber = number;  \r\n    },\r\n    setNextNumber: function(nextNumber){\r\n        this.dataNextNumber = nextNumber;\r\n    },\r\n    setOperator: function(operator){\r\n        this.operator = operator;\r\n    },\r\n    performOperation: function(){\r\n        if(this.dataNextNumber || this.dataNextNumber === 0){\r\n            const operator = this.operator;\r\n            if(operator === \"+\"){\r\n                let result = this.dataNumber + this.dataNextNumber;\r\n                dataAndOperations.result = result;\r\n                this.clear();\r\n                return result;\r\n            } else if(operator === \"-\"){\r\n                let result = this.dataNumber - this.dataNextNumber;\r\n                dataAndOperations.result = result;\r\n                this.clear();\r\n                return result;\r\n            } else if(operator === \"ร\" || operator === \"*\"){\r\n                let result = this.dataNumber * this.dataNextNumber;\r\n                dataAndOperations.result = result;\r\n                this.clear();\r\n                return result;\r\n            } else if(operator === \"รท\" || operator === \"/\"){\r\n                if(dataAndOperations.dataNextNumber === 0){\r\n                    let result = \"Cannot Divide by Zero\";\r\n                    dataAndOperations.result = result;\r\n                    this.clear();\r\n                    console.log(\"dividing by zero\");\r\n                } else {\r\n                    let result =  this.dataNumber / this.dataNextNumber;\r\n                    dataAndOperations.result = result;\r\n                    this.clear();\r\n                }\r\n\r\n            }\r\n        }\r\n    },\r\n    clear: function(){\r\n        this.dataNumber = \"\";\r\n        this.dataNextNumber = \"\";\r\n        this.operator = \"\";\r\n    },\r\n    clearAll:function(){\r\n        this.dataNumber = \"\";\r\n        this.dataNextNumber = \"\";\r\n        this.operator = \"\";\r\n        this.result = \"\";\r\n    }\r\n}\r\n\r\nconst UI = {\r\n    DOMstrings: {\r\n        numbers: \".number\",\r\n        operators: \".operator\",\r\n        display: \".display\",\r\n        equals: \".equals\",\r\n        clear: \".erase\"\r\n    },\r\n    state: document.querySelector('.display'),\r\n    getSelection: function(event){\r\n        let selection = event.target.textContent;\r\n        return selection;  \r\n    },\r\n    displayNumber: function(number){\r\n        this.state.children[1].textContent += number;\r\n        let displayedNumber = this.state.children[1].textContent;\r\n        return displayedNumber;\r\n    },\r\n    displayOperator: function(operator){\r\n        this.state.children[0].children[0].textContent = this.state.children[1].textContent;\r\n        this.state.children[1].textContent = \"\";\r\n        this.state.children[0].children[0].textContent += operator;\r\n    },\r\n    calculate: function(result){\r\n        this.state.children[0].children[0].textContent = \"\";\r\n        this.state.children[1].textContent = result;\r\n    },\r\n    clear: function(){\r\n        this.state.children[0].children[0].textContent = \"\";\r\n        this.state.children[1].textContent = \"\";\r\n    }\r\n}\r\n\r\nconst controller = {\r\n    setEventListeners:function(){\r\n        let DOM = UI.DOMstrings;\r\n\r\n        //select number\r\n        document.querySelectorAll(DOM.numbers).forEach(function(number){\r\n            number.addEventListener(\"click\", controller.selectNumber);\r\n        });\r\n\r\n        //select operator\r\n        document.querySelectorAll(DOM.operators).forEach(function(operator){\r\n            operator.addEventListener(\"click\", controller.selectOperator);\r\n        });\r\n\r\n        //keybord input\r\n        const keyCodeList = {48: 0, 49: 1, 50: 2, 51: 3,52:4,53:5,54:6,55:7,56:8,57:9};\r\n        document.querySelector(\"body\").addEventListener(\"keydown\", function(event){\r\n            for(var key in keyCodeList){\r\n                if(parseInt(event.key) === keyCodeList[key]){\r\n                    controller.selectNumber(keyCodeList[key]);\r\n                }\r\n            }\r\n            switch(event.key){\r\n                case \"+\":\r\n                    controller.selectOperator(event.key);\r\n                    break;\r\n                case \"-\":\r\n                    controller.selectOperator(event.key);\r\n                    break;\r\n                case \"*\":\r\n                    controller.selectOperator(event.key);\r\n                    break;\r\n                case \"/\":\r\n                    controller.selectOperator(event.key);\r\n                    break;\r\n                case \"=\":\r\n                    controller.calculate();\r\n                    break;\r\n                case \"Enter\":\r\n                    controller.calculate();\r\n                    break;\r\n                case \"Escape\":\r\n                    controller.clear();\r\n                    break;\r\n                default:\r\n                    //Do Nothing\r\n                    break;\r\n            }\r\n        });\r\n\r\n        //calculate result\r\n        document.querySelector(DOM.equals).addEventListener(\"click\", controller.calculate);\r\n\r\n        //clear data and UI\r\n        document.querySelector(DOM.clear).addEventListener(\"click\", controller.clear);\r\n\r\n    },\r\n    selectNumber: function(event){\r\n        if(typeof event !== \"number\"){\r\n            const number = UI.getSelection(event);\r\n            const displayedNumber = UI.displayNumber(number);\r\n            if(!dataAndOperations.dataNumber || !dataAndOperations.operator){\r\n                let parsedNumber = parseInt(displayedNumber);\r\n                dataAndOperations.setNumber(parsedNumber);\r\n            } else if(dataAndOperations.dataNumber || dataAndOperations.dataNumber !== 0){\r\n                let parsedNumber = parseInt(displayedNumber);\r\n                dataAndOperations.setNextNumber(parsedNumber);\r\n            }              \r\n        } else {\r\n            const displayedNumber = UI.displayNumber(event);\r\n            if((!dataAndOperations.dataNumber && dataAndOperations.dataNumber !== 0) || !dataAndOperations.operator){\r\n\r\n                let parsedNumber = parseInt(displayedNumber);\r\n                dataAndOperations.setNumber(parsedNumber);\r\n            } else if(dataAndOperations.dataNumber || dataAndOperations.dataNumber === 0) {\r\n                let parsedNumber = parseInt(displayedNumber);\r\n                dataAndOperations.setNextNumber(parsedNumber);\r\n            }  \r\n        }\r\n    },\r\n    selectOperator: function(event){\r\n        if(typeof event !== \"string\"){\r\n            let operator = UI.getSelection(event);\r\n            controller.chainOperations(operator);\r\n        } else {\r\n            controller.chainOperations(event);\r\n        }\r\n    },\r\n    chainOperations: function(operator){\r\n        if(!dataAndOperations.result && !dataAndOperations.dataNumber && !dataAndOperations.dataNextNumber){\r\n            console.log(\"first number is zero automatically if a number isn't chosen but operator is clicked\");\r\n            const displayedNumber = UI.displayNumber(\"0\");\r\n            dataAndOperations.setNumber(0);\r\n            UI.displayOperator(operator);\r\n            dataAndOperations.setOperator(operator);\r\n        } \r\n         else if(!dataAndOperations.result && (dataAndOperations.dataNumber || dataAndOperations.dataNumber === 0) && !dataAndOperations.dataNextNumber){\r\n            console.log(\"normal condition: set operator after first number is chosen\");\r\n            UI.displayOperator(operator);\r\n            dataAndOperations.setOperator(operator);\r\n        } else if(dataAndOperations.result && !dataAndOperations.dataNumber && !dataAndOperations.dataNextNumber){\r\n            console.log(\"result exists and both numbers are empty and operator is selected\");\r\n            UI.displayOperator(operator);\r\n            dataAndOperations.setNumber(dataAndOperations.result);\r\n            dataAndOperations.result = \"\";\r\n            dataAndOperations.setOperator(operator);\r\n        } else if(dataAndOperations.result && !dataAndOperations.dataNumber && dataAndOperations.dataNextNumber){\r\n            console.log(\"result exists but first number is empty, 2nd exists\");\r\n            UI.displayOperator(operator);\r\n            console.log(\"result:\" + dataAndOperations.result);\r\n            dataAndOperations.setNumber(dataAndOperations.result);\r\n            dataAndOperations.result = \"\";\r\n            controller.calculate();\r\n            dataAndOperations.setOperator(operator);\r\n            UI.displayOperator(operator);\r\n        } else if(dataAndOperations.result && (dataAndOperations.dataNumber || dataAndOperations.dataNumber === 0) && !dataAndOperations.dataNextNumber){\r\n            console.log(\"result exists but second number is empty, 1st exists\");\r\n            UI.displayOperator(operator);\r\n            dataAndOperations.setNextNumber(dataAndOperations.result);\r\n            dataAndOperations.result = \"\";\r\n            controller.calculate();\r\n            dataAndOperations.setOperator(operator);\r\n            UI.displayOperator(operator);\r\n        } else if((dataAndOperations.dataNumber || dataAndOperations.dataNumber === 0) && dataAndOperations.dataNextNumber){\r\n            console.log(\"both numbers are selected and another operator is chosen.\")\r\n            UI.displayOperator(operator);\r\n            controller.calculate();\r\n            dataAndOperations.setOperator(operator);\r\n            UI.displayOperator(operator);\r\n        }\r\n    },\r\n    calculate: function(){\r\n        if((dataAndOperations.dataNumber || dataAndOperations.dataNumber === 0)&& \r\n        (dataAndOperations.dataNextNumber || dataAndOperations.dataNextNumber === 0)\r\n        && dataAndOperations.operator){\r\n            dataAndOperations.performOperation();\r\n            UI.calculate(dataAndOperations.result);\r\n        } else if(dataAndOperations.result && dataAndOperations.dataNumber && !dataAndOperations.dataNextNumber){\r\n           //result exists but second number is empty, 1st exists\r\n            dataAndOperations.setNextNumber(dataAndOperations.result);\r\n            dataAndOperations.result = \"\";\r\n            dataAndOperations.performOperation();\r\n            UI.calculate(dataAndOperations.result);\r\n        }\r\n    },\r\n    clear: function(){\r\n      dataAndOperations.clearAll();\r\n      UI.clear();\r\n    }\r\n}\r\n\r\ncontroller.setEventListeners();"]}